{"nodeList": [{"identifier": "normalized_data", "definition": "# DATA PRE-PROCESSING FOR MACHINE LEARNING MODELS\n\nfrom sklearn.preprocessing import MinMaxScaler\n\n# Drop columns that will not be used\n_data = data.copy().drop(columns = ['value', 'Job category'])\n\n# Create dummies for each categorical column\nfor i in categorical_columns:\n    _data = _data.merge(pd.get_dummies(_data[i], drop_first = (True if i != 'Risk' else False), prefix = i), left_index = True, right_index = True)\n\n# Drop original categorical columns from dataframe and Risk_good dummy (Risk_bad is the only needed)\n_data = _data.drop(columns = categorical_columns)\n_data = _data.drop(columns = 'Risk_good')\n_final_columns = _data.columns.values\n\n# Normalize numerical columns (returns numpy array)\n_scaler = MinMaxScaler(feature_range = (0,1)).fit(_data)\n_data_normalized = _scaler.transform(_data)\n\n# Create dataframe from numpy array\nresult = pd.DataFrame(_data_normalized, columns = _final_columns)", "title": "Normalized Data", "nodeClass": "outputnode", "moduleId": "data_exploration_analysis_mod", "x": 340, "y": 110, "z": 1, "w": 184, "h": 30, "description": null, "units": null, "color": "#4CBCFF", "errorInDef": false, "nodeInfo": {"showInputs": 1, "showOutputs": 1, "showLabel": 1, "showBorder": 1, "fill": 1, "useNodeFont": 0}, "nodeFont": null, "numberFormat": null, "originalId": null, "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": false}, {"identifier": "data_info", "definition": "# Exploring data\n_description = data.describe()\nprint(f\"Description:\\n {_description}\\n\")\n\n# Unique values for each field\n_unique_values = data.nunique()\nprint(f\"Unique values:\\n {_unique_values}\")\n\nresult = _description", "title": "Data info", "nodeClass": "report", "moduleId": "data_exploration_analysis_mod", "x": "71", "y": "153", "z": 1, "w": "184", "h": "30", "description": null, "units": null, "color": "#CCCCCC", "errorInDef": false, "nodeInfo": {"showInputs": 1, "showOutputs": 1, "showLabel": 1, "showBorder": 1, "fill": 1, "useNodeFont": 0}, "nodeFont": null, "numberFormat": null, "originalId": null, "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": false}, {"identifier": "node1_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy", "definition": "result = 0", "title": "Data Exploration and Analysis", "nodeClass": "text", "moduleId": "data_exploration_analysis_mod", "x": 30, "y": 40, "z": "-2", "w": "540", "h": "190", "description": null, "units": null, "color": "#eeeeee", "errorInDef": false, "nodeInfo": {"showInputs": 0, "showOutputs": 0, "showLabel": 1, "showBorder": 0, "fill": 1, "useNodeFont": 1}, "nodeFont": "Helvetica,21", "numberFormat": null, "originalId": null, "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": null}, {"identifier": "a8ae54b33b3314147bd6f491e12db9a2f", "definition": "result = data", "title": "Data (with new columns and loans)", "nodeClass": "alias", "moduleId": "data_exploration_analysis_mod", "x": "71", "y": "110", "z": 1, "w": "184", "h": "30", "description": null, "units": null, "color": "#4CBCFF", "errorInDef": false, "nodeInfo": {"showInputs": 1, "showOutputs": 1, "showLabel": 1, "showBorder": 1, "fill": 1, "useNodeFont": 0}, "nodeFont": null, "numberFormat": null, "originalId": "data", "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": null}, {"identifier": "node1_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy", "definition": "result = 0", "title": "Correlations", "nodeClass": "text", "moduleId": "data_exploration_analysis_mod", "x": 310, "y": 80, "z": -1, "w": "238", "h": "126", "description": null, "units": null, "color": "#cccccc", "errorInDef": false, "nodeInfo": {"showInputs": 0, "showOutputs": 0, "showLabel": 1, "showBorder": 0, "fill": 1, "useNodeFont": 0}, "nodeFont": "", "numberFormat": null, "originalId": null, "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": null}, {"identifier": "node1_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy_copy", "definition": "result = 0", "title": "Data", "nodeClass": "text", "moduleId": "data_exploration_analysis_mod", "x": "46", "y": "77", "z": -1, "w": "238", "h": "126", "description": null, "units": null, "color": "#cccccc", "errorInDef": false, "nodeInfo": {"showInputs": 0, "showOutputs": 0, "showLabel": 1, "showBorder": 0, "fill": 1, "useNodeFont": 0}, "nodeFont": "", "numberFormat": null, "originalId": null, "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": null}, {"identifier": "correlations", "definition": "import plotly.graph_objects as go\r\n\r\n# Get correlation\r\n_correlation = normalized_data.corr()\r\n# Get columns\r\n_cols = _correlation.columns.tolist()\r\n#convert to array\r\n_correlation_array  = np.array(_correlation)\r\n\r\n# Plot correlations\r\n_trace = go.Heatmap(z = _correlation_array,\r\n                   x = _cols,\r\n                   y = _cols,\r\n                   colorscale = 'YlOrRd',\r\n                   colorbar   = dict(title = 'Pearson Correlation coefficient',\r\n                                     titleside = 'right'\r\n                                    ) ,\r\n                  )\r\n\r\n_layout = go.Layout(dict(autosize = False,\r\n                        yaxis   = dict(tickfont = dict(size = 9)),\r\n                        xaxis   = dict(tickfont = dict(size = 9))\r\n                       )\r\n                  )\r\n_data = [_trace]\r\n_fig = go.Figure(_data, layout = _layout)\r\n_fig.layout.xaxis.update({'anchor': 'x', 'domain': [.1, 0.95]})\r\n_fig.layout.yaxis.update({'anchor': 'y', 'domain': [.1, 0.95]})\r\n\r\nresult = _fig", "title": "Correlations", "nodeClass": "report", "moduleId": "data_exploration_analysis_mod", "x": 340, "y": 150, "z": 1, "w": "184", "h": "30", "description": null, "units": null, "color": "#CCCCCC", "errorInDef": false, "nodeInfo": {"showInputs": 1, "showOutputs": 1, "showLabel": 1, "showBorder": 1, "fill": 1, "useNodeFont": 0}, "nodeFont": null, "numberFormat": null, "originalId": null, "extraData": null, "picture": null, "evaluateOnStart": false, "defaultView": null, "prefixIdentifier": null, "hierarchy": null, "_isNodeCircular": false}]}